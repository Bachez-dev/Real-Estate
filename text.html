<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Real Estate Listings</title>
  <style>
    .first-section {
      width: 100%;
      position: relative;
      display: flex;
      align-items: center;
      padding: 40px 0;
    }

    .section-container {
      width: 90%;
      margin: 0 auto;
    }

    .section-heading {
      width: 100%;
      height: 130px;
      color: #101010;
      z-index: 2;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      flex-direction: column;
    }

    .section-heading h2 {
      font-size: 2.5rem;
      font-weight: 600;
    }

    .section-heading p {
      font-size: 14px;
      color: #555;
      margin-top: 20px;
    }

    .cards-container {
      width: 100%;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      padding-top: 50px;
      padding-bottom: 20px;
    }

    .card {
      min-width: 300px;
      height: 370px;
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      overflow: hidden;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .card:hover {
      transform: translateY(-10px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }

    .card-image {
      width: 100%;
      height: 200px;
      background-size: cover;
      background-position: center;
    }

    .card1 {
      background-image: url('../realestate/brian-babb-XbwHrt87mQ0-unsplash.jpg');
    }

    .card2 {
      background-image: url('../realestate/clay-banks-yqozBsi5ioc-unsplash.jpg');
    }

    .card3 {
      background-image: url('../realestate/elite-prop-hmlP-v0vJ5o-unsplash.jpg');
    }

    .card4 {
      background-image: url('../realestate/francesca-tosolini-6japTIjUQoI-unsplash.jpg');
    }

    .card-content {
      padding: 15px;
    }

    .card-content h3 {
      font-size: 1.2rem;
      margin-bottom: 10px;
      color: #333;
    }

    .card-content p {
      font-size: 14px;
      color: #666;
      line-height: 1.5;
    }

    .btn {
      background: #101010;
      border-radius: 5px;
      border: none;
      color: #fff;
      padding: 10px 20px;
      font-size: 11px;
      margin-top: 30px;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    .btn:hover {
      background: rgba(0, 0, 0, 0.7);
    }

    /* Pagination */
    .pagination {
      display: flex;
      justify-content: center;
      gap: 5px;
      flex-wrap: wrap;
      margin-top: 20px;
    }

    .pagination a,
    .pagination span {
      padding: 8px 12px;
      border: 1px solid #ddd;
      border-radius: 5px;
      text-decoration: none;
      color: #333;
      cursor: pointer;
      transition: background 0.3s;
    }

    .pagination a:hover {
      background: #0077ff;
      color: #fff;
    }

    .pagination a.active {
      background: #0077ff;
      color: #fff;
      border: 1px solid #0077ff;
    }

    .pagination span {
      cursor: default;
      background: #f0f0f0;
    }

    /* Disabled buttons */
    .pagination a.disabled {
      color: #aaa;
      border-color: #eee;
      cursor: not-allowed;
      background: #f9f9f9;
    }
  </style>
</head>

<body>

  <section class="first-section">
    <div class="section-container">
      <div class="section-heading">
        <h2>Turn the house you imagine into the house you live in.</h2>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Temporibus, ut?.</p>
      </div>

      <!-- Cards will be injected here -->
      <div class="cards-container" id="cards-container"></div>

      <!-- Pagination -->
      <div class="pagination" id="pagination"></div>
    </div>
  </section>



  <script>
    const properties = [
      { title: "Modern Family Home", details: "4 Beds • 3 Baths • 2500 sqft", price: "$450,000", imageClass: "card1" },
      { title: "Luxury Villa", details: "5 Beds • 4 Baths • 4000 sqft", price: "$1,200,000", imageClass: "card2" },
      { title: "Downtown Apartment", details: "2 Beds • 2 Baths • 1200 sqft", price: "$350,000", imageClass: "card3" },
      { title: "Cozy Cottage", details: "3 Beds • 2 Baths • 1800 sqft", price: "$300,000", imageClass: "card4" }
    ];

    // Duplicate to simulate many listings
    let listings = [];
    for (let i = 0; i < 200; i++) {
      listings.push({ ...properties[i % properties.length] });
    }

    const itemsPerPage = 18;

    function renderCards(page) {
      const container = document.getElementById("cards-container");
      container.innerHTML = "";

      const start = (page - 1) * itemsPerPage;
      const end = start + itemsPerPage;
      const pageItems = listings.slice(start, end);

      pageItems.forEach(item => {
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
        <div class="card-image ${item.imageClass}"></div>
        <div class="card-content">
          <h3>${item.title}</h3>
          <p>${item.details}</p>
          <p>${item.price}</p>
          <a href="#"><button class="btn">View Details</button></a>
        </div>
      `;
        container.appendChild(card);
      });

      renderPagination(page);
      updateUrl(page);
    }

    function renderPagination(currentPage) {
      const totalPages = Math.ceil(listings.length / itemsPerPage);
      const container = document.getElementById("pagination");
      container.innerHTML = "";

      function createPageLink(page, text = page, disabled = false) {
        const link = document.createElement("a");
        link.textContent = text;
        if (page === currentPage) link.classList.add("active");
        if (disabled) {
          link.classList.add("disabled");
        } else {
          link.onclick = () => renderCards(page);
        }
        return link;
      }

      function createEllipsis() {
        const span = document.createElement("span");
        span.textContent = "…";
        return span;
      }

      // Prev button
      container.appendChild(
        createPageLink(currentPage - 1, "« Prev", currentPage === 1)
      );

      // Always show first page
      container.appendChild(createPageLink(1));

      if (currentPage <= 3) {
        for (let i = 2; i <= Math.min(3, totalPages - 1); i++) {
          container.appendChild(createPageLink(i));
        }
        if (totalPages > 4) container.appendChild(createEllipsis());
      } else if (currentPage > 3 && currentPage < totalPages - 2) {
        container.appendChild(createEllipsis());
        for (let i = currentPage - 1; i <= currentPage + 1; i++) {
          container.appendChild(createPageLink(i));
        }
        container.appendChild(createEllipsis());
      } else {
        container.appendChild(createEllipsis());
        for (let i = totalPages - 2; i < totalPages; i++) {
          if (i > 1) container.appendChild(createPageLink(i));
        }
      }

      // Always show last page
      if (totalPages > 1) container.appendChild(createPageLink(totalPages));

      // Next button
      container.appendChild(
        createPageLink(currentPage + 1, "Next »", currentPage === totalPages)
      );
    }

    function updateUrl(page) {
      const url = new URL(window.location);
      url.searchParams.set("page", page);
      history.pushState({ page }, "", url);
    }

    function getPageFromUrl() {
      const params = new URLSearchParams(window.location.search);
      return parseInt(params.get("page")) || 1;
    }

    window.addEventListener("popstate", (event) => {
      const page = event.state?.page || getPageFromUrl();
      renderCards(page);
    });

    // Initial load
    renderCards(getPageFromUrl());
  </script>


</body>

</html>