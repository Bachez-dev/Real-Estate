<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Homenest - Listings</title>

  <link rel="stylesheet" href="../style.css">
  <link rel="stylesheet" href="../pagescss/listings.css">
</head>

<body>

  <section class="Navigation-hero-container">

    <div class="nav-hero-content">
      <div class="navigation-container">
        <div class="nav-heading">
          <h2>Homenest</h2>
        </div>
        <div class="nav-links">
          <ul class="nav-ul">
            <li><a href="../index.html">Home</a></li>
            <li><a href="listings.html">Listings</a></li>
            <li><a href="About.html">About</a></li>
            <li><a href="Contact.html">Contact</a></li>
          </ul>
        </div>

        <div class="nav-buttons">
          <a href="GetStarted.html"><button class="get">
              <span>Get Started</span>
            </button></a>
        </div>
      </div>

      <div class="hero-section">
        <div class="hero-section-content">

          <div class="hero-heading">
            <h2>Your Perfect Home Just One Click Away</h2>
          </div>


          <p class="txt-one">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Vero consequuntur odio provident.
          </p>

          <div class="get">
            <div class="features">
              <div class="feature-card">
                <div class="icon">
                  <i class="fas fa-house fa-2x"></i>
                </div>
                <h3>Find Your Dream Home</h3>
                <p>Browse thousands of apartments, villas, and family homes tailored to your lifestyle.</p>
              </div>

              <div class="feature-card">
                <div class="icon">
                  <i class="fas fa-calendar-check fa-2x"></i>
                </div>
                <h3>Schedule With One Click</h3>
                <p>Book property viewings instantly and get connected with trusted agents.</p>
              </div>

              <div class="feature-card">
                <div class="icon">
                  <i class="fas fa-dollar-sign fa-2x"></i>
                </div>
                <h3>Transparent & Fair Prices</h3>
                <p>Get the best offers with no hidden fees—just honest and secure transactions.</p>
              </div>
            </div>
          </div>

          <div class="get1">
            <div class="get1-img">

            </div>
            <div class="get1-txt">
              <h1>+30.5K</h1>
              <p>Worldwide Satisfied Clients</p>

              <h1>99%</h1>
              <p>Satisfaction</p>
            </div>
          </div>


          <div class="hero-image-txt">

            <div class="hero-img">

            </div>
            <div class="hero-txt">
              <h1>The Grand Madison</h1>
              <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Quidem nesciunt dolores aperiam consequatur
                voluptas voluptatem perferendis iste et doloribus est.</p>
            </div>
          </div>
        </div>

      </div>

    </div>

  </section>

  <!-- Listings start-->

  <section class="first-section">
    <div class="section-container">
      <div class="section-heading">
        <h2>Turn the house you imagine into the house you live in.</h2>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Temporibus, ut?.</p>
      </div>

      <!-- Cards will be injected here -->
      <div class="cards-container" id="cards-container"></div>

      <!-- Pagination -->
      <div class="pagination" id="pagination"></div>
    </div>
  </section>

  <!-- FOOTER START -->

  <section class="footer-section">
    <footer>
      <div class="footer-top-section">
        <h2>Homenest</h2>
        <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Delectus, quaerat!</p>
      </div>
      <div class="footer-middle-section">
        <div class="middle-sec-txt">
          <h2>
            Never miss and episode
          </h2>
          <h2>
            Join Our Community
          </h2>

          <div class="input-email">
            <input type="text" placeholder="email">
            <button>Subscribe</button>
          </div>
        </div>

        <div class="middle-sec-links">
          <div class="Quick-start">
            <h3>Quick Links</h3>
            <ul>
              <li><a href="#">Home</a></li>
              <li><a href="#">Listings</a></li>
              <li><a href="#">About</a></li>
              <li><a href="#">Contact</a></li>
            </ul>
          </div>
          <div class="Second-start">
            <h3>Quick Links</h3>
            <ul>
              <li><a href="#">Home</a></li>
              <li><a href="#">Listings</a></li>
              <li><a href="#">About</a></li>
              <li><a href="#">Contact</a></li>
            </ul>
          </div>
        </div>


      </div>
      <div class="footer-bottom-section">

        <hr style="margin-bottom: 10px;">
        <div class="footer-bottom-cont">
          &copy;2025

          <div class="socials">
            <p>LinkedIn</p>
            <p>Twitter</p>
            <p>Github</p>
          </div>

        </div>
      </div>
      <div class="footer-name">
        HOMENEST
      </div>
    </footer>
  </section>


  <script src="../script.js"></script>
  <script>
    const properties = [
      { title: "Modern Family Home", details: "4 Beds • 3 Baths • 2500 sqft", price: "$450,000", imageClass: "card1" },
      { title: "Luxury Villa", details: "5 Beds • 4 Baths • 4000 sqft", price: "$1,200,000", imageClass: "card2" },
      { title: "Downtown Apartment", details: "2 Beds • 2 Baths • 1200 sqft", price: "$350,000", imageClass: "card3" },
      { title: "Cozy Cottage", details: "3 Beds • 2 Baths • 1800 sqft", price: "$300,000", imageClass: "card4" }
    ];

    // Duplicate to simulate many listings
    let listings = [];
    for (let i = 0; i < 200; i++) {
      listings.push({ ...properties[i % properties.length] });
    }

    const itemsPerPage = 18;

    function renderCards(page) {
      const container = document.getElementById("cards-container");
      container.innerHTML = "";

      const start = (page - 1) * itemsPerPage;
      const end = start + itemsPerPage;
      const pageItems = listings.slice(start, end);

      pageItems.forEach(item => {
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
        <div class="card-image ${item.imageClass}"></div>
        <div class="card-content">
          <h3>${item.title}</h3>
          <p>${item.details}</p>
          <p>${item.price}</p>
          <a href="#"><button class="btn">View Details</button></a>
        </div>
      `;
        container.appendChild(card);
      });

      renderPagination(page);
      updateUrl(page);
    }

    function renderPagination(currentPage) {
      const totalPages = Math.ceil(listings.length / itemsPerPage);
      const container = document.getElementById("pagination");
      container.innerHTML = "";

      function createPageLink(page, text = page, disabled = false) {
        const link = document.createElement("a");
        link.textContent = text;
        if (page === currentPage) link.classList.add("active");
        if (disabled) {
          link.classList.add("disabled");
        } else {
          link.onclick = () => renderCards(page);
        }
        return link;
      }

      function createEllipsis() {
        const span = document.createElement("span");
        span.textContent = "…";
        return span;
      }

      // Prev button
      container.appendChild(
        createPageLink(currentPage - 1, "« Prev", currentPage === 1)
      );

      // Always show first page
      container.appendChild(createPageLink(1));

      if (currentPage <= 3) {
        for (let i = 2; i <= Math.min(3, totalPages - 1); i++) {
          container.appendChild(createPageLink(i));
        }
        if (totalPages > 4) container.appendChild(createEllipsis());
      } else if (currentPage > 3 && currentPage < totalPages - 2) {
        container.appendChild(createEllipsis());
        for (let i = currentPage - 1; i <= currentPage + 1; i++) {
          container.appendChild(createPageLink(i));
        }
        container.appendChild(createEllipsis());
      } else {
        container.appendChild(createEllipsis());
        for (let i = totalPages - 2; i < totalPages; i++) {
          if (i > 1) container.appendChild(createPageLink(i));
        }
      }

      // Always show last page
      if (totalPages > 1) container.appendChild(createPageLink(totalPages));

      // Next button
      container.appendChild(
        createPageLink(currentPage + 1, "Next »", currentPage === totalPages)
      );
    }

    function updateUrl(page) {
      const url = new URL(window.location);
      url.searchParams.set("page", page);
      history.pushState({ page }, "", url);
    }

    function getPageFromUrl() {
      const params = new URLSearchParams(window.location.search);
      return parseInt(params.get("page")) || 1;
    }

    window.addEventListener("popstate", (event) => {
      const page = event.state?.page || getPageFromUrl();
      renderCards(page);
    });

    // Initial load
    renderCards(getPageFromUrl());
  </script>
</body>

</html>